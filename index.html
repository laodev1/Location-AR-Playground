<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>GeoAR.js demo</title>
    <script src='https://aframe.io/releases/0.9.2/aframe.min.js'></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script>
        THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'
    </script>
</head>

<body style='margin: 0; overflow: hidden;'>
    <a-scene vr-mode-ui="enabled: false" embedded
        arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;'>

       
        <a-entity
            gltf-model="./assets/models/enchanted-mirror/scene.gltf"
            rotation="0 180 0" scale="0.55 0.55 0.55" gps-entity-place="longitude: 33.44302; latitude: -111.79786;"
            />
            <a-camera gps-camera rotation-reader></a-camera>
    </a-scene>

    <!-- methods to move the model location around, change the scale etc. using the mouse-->
    <script>
        var entity = document.querySelector('a-entity');
        var scale = 0.55;
        var longitude = 33.44302;
        var latitude = -111.79786;
        var longitudeStep = 0.0001;
        var latitudeStep = 0.0001;
        var scaleStep = 0.01;

        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowUp') {
                latitude += latitudeStep;
                entity.setAttribute('gps-entity-place', 'longitude: ' + longitude + '; latitude: ' + latitude + ';');
            } else if (event.key === 'ArrowDown') {
                latitude -= latitudeStep;
                entity.setAttribute('gps-entity-place', 'longitude: ' + longitude + '; latitude: ' + latitude + ';');
            } else if (event.key === 'ArrowLeft') {
                longitude -= longitudeStep;
                entity.setAttribute('gps-entity-place', 'longitude: ' + longitude + '; latitude: ' + latitude + ';');
            } else if (event.key === 'ArrowRight') {
                longitude += longitudeStep;
                entity.setAttribute('gps-entity-place', 'longitude: ' + longitude + '; latitude: ' + latitude + ';');
            } else if (event.key === 'w') {
                scale += scaleStep;
                entity.setAttribute('scale', scale + ' ' + scale + ' ' + scale);
            } else if (event.key === 's') {
                scale -= scaleStep;
                entity.setAttribute('scale', scale + ' ' + scale + ' ' + scale);
            }
        });

    </script>

</body>
</html>